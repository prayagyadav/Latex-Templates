% Winter Theme
% Author: Prayag Yadav
% Website: https://www.prayagyadav.com


% --- Fonts ---

\usepackage[T1]{fontenc}
\usepackage[sfdefault]{CooperHewitt}
\usepackage{sourcesanspro}
\usepackage{sourcecodepro}

\usepackage{amsmath,amssymb,amsthm,eucal,bbold,bm}
%\usepackage[italic,eulergreek,symbolmisc,noload]{mathastext}
\usepackage[noload]{mathastext}
\usepackage{url}
\usepackage{textcase}

% Microtypography
\usepackage{microtype}
\DisableLigatures[f]{encoding = *, family = * }

% Correct spacing around letters in math
\MTsetmathskips{y}{1mu}{0mu}
\MTsetmathskips{j}{1.5mu}{0mu}

% --- Beamer theme ---

\usetheme{Boadilla}
\usecolortheme[]{seagull}
\useinnertheme{rectangles}
\setbeamercovered{transparent}
\setbeamertemplate{navigation symbols}{}

% --- Font sizes and shapes ---

\setbeamerfont{title}{size=\huge}
\setbeamerfont{author}{size=\large}
\setbeamerfont{frametitle}{series=\bfseries}
\setbeamertemplate{frametitle}{\insertframetitle}
\setbeamertemplate{frametitle continuation}{[\insertcontinuationcount]}
\setbeamerfont{itemize/enumerate subbody}{size=\normalsize}
\setbeamerfont{button}{size=\footnotesize}

% --- Spacing ---

\usepackage[onehalfspacing]{setspace}
\setbeamertemplate{title page}[default][left,leftskip=-8pt]
\addtobeamertemplate{frametitle}{\vskip3mm}{}
\setbeamersize{text margin left=5mm,text margin right=5mm}

% --- Color ---

\colorlet{myblack}{black!85!}
\colorlet{mygray}{gray!60!}
\colorlet{mywhite}{gray!40!}
\definecolor{myblue}{HTML}{083484}
\definecolor{shellgreen}{HTML}{26a269}
%\setbeamercolor{title}{fg=myblack}
%\setbeamercolor{frametitle}{fg=myblack}
%\setbeamercolor{normal text}{fg=myblack}
%\setbeamercolor{itemize item}{fg=mygray}
%\setbeamercolor{itemize subitem}{fg=mygray}
%\setbeamercolor{enumerate item}{fg=mygray}
%\setbeamercolor{enumerate subitem}{fg=mygray}
%\setbeamercolor{footline}{fg=mygray}
%\setbeamercolor{button}{fg=mygray, bg=white}

%\setbeamercolor{background canvas}{bg=myblue!60!black}
\setbeamercolor{title}{fg=mywhite}
\setbeamercolor{frametitle}{fg=mygray}
\setbeamercolor{normal text}{fg=mywhite}
\setbeamercolor{itemize item}{fg=mywhite}
\setbeamercolor{itemize subitem}{fg=mywhite}
\setbeamercolor{enumerate item}{fg=mywhite}
\setbeamercolor{enumerate subitem}{fg=mywhite}
\setbeamercolor{footline}{fg=mywhite}
\setbeamercolor{button}{fg=mywhite}



%--- Logo on the top-right ----
\setbeamertemplate{headline}{\hfill\includegraphics[width=1.5cm]{img/cmslab_logo_gray.png}\hspace{0.2cm}\vspace{-1.2cm}}

% --- Slide numbers ---

% No slide numbers by default
%\setbeamertemplate{footline}{}

% Uncomment the line below to insert slide numbers
\setbeamertemplate{footline}[frame number]

% --- Title slide ---

% % Title underline
\let\oldtitle\title
\renewcommand{\title}[1]{\oldtitle[]{#1 \vspace{-5mm}\\\color{mygray}{\rule{\textwidth}{2pt}}}}

% Paper information
\usepackage{xparse}
\NewDocumentCommand{\information}{o g g g}{%
\author[]{#2%
\IfValueT{#4}{\vspace{5mm}\\#4}%
\IfValueT{#3}{\vspace{5mm}\\#3}%
\IfValueT{#1}{\vspace{5mm}\\\color{mywhite}{\footnotesize More info: \url{#1}}}%
}\date[]{}}

% --- Lists ---

\setbeamertemplate{itemize item}{\textbullet}
\setbeamertemplate{itemize subitem}{\textendash}
\setbeamertemplate{enumerate item}[default]
\setbeamertemplate{enumerate subitem}[default]
\setbeamertemplate{enumerate subitem}{\alph{enumii}.}

% --- Small Monospace ---

\newcommand{\mono}[1]{\texttt{\small #1}}

% --- Alerts ---

% Standard alert
\NewDocumentCommand{\al}{o g}{%
\IfNoValueTF{#1}{\textcolor{RubineRed}{#2}}%
{\textcolor<#1>{RubineRed}{#2}}}

% Green alert
\NewDocumentCommand{\alg}{o g}{%
\IfNoValueTF{#1}{\textcolor{Green}{#2}}%
{\textcolor<#1>{Green}{#2}}}

% Red alert
\NewDocumentCommand{\alr}{o g}{%
\IfNoValueTF{#1}{\textcolor{Red}{#2}}%
{\textcolor<#1>{Red}{#2}}}

% Blue alert
\NewDocumentCommand{\alb}{o g}{%
\IfNoValueTF{#1}{\textcolor{NavyBlue}{#2}}%
{\textcolor<#1>{NavyBlue}{#2}}}

% --- Tables & figures  ---

\usepackage{multirow,booktabs}

% Captions
\usepackage{caption}
\captionsetup{labelformat=empty,size=normalsize}

% Centered figures
\let\oldincludegraphics\includegraphics
\renewcommand{\includegraphics}[2][]{\centering\oldincludegraphics[#1]{#2}}

% --- Section slide ---

\newcommand{\heading}[1]{\LARGE\scshape\textbf{\color{mywhite}\singlespacing #1 \vspace{-3mm}\\\color{mygray}{\rule{\textwidth}{2pt}}}}

% --- Pictograms ---

\def\up{\textuparrow\,}
\def\down{\textdownarrow\,}
\def\flat{\textrightarrow\,}
\def\then{$\rightsquigarrow\,$}
\def\so{{$\implies$}}
\def\iff{{$\shortiff$}}

% --- Last slide ---

\newcommand{\lastslide}{\input{snowfall.txt}}

% --- Custom pause ---
\newcommand{\redpause}{\addtocounter{beamerpauses}{-1}\color{blue} \pause\color<+>{red}}

% ----- Modified Tcolorbox ----
\usepackage{tcolorbox}
\tcbuselibrary{breakable}
 \newtcolorbox{graybox}[1][]{
	breakable,
	title=#1,
	colback=mygray,
	colbacktitle=myblack,
	coltitle=mywhite,
	fontupper=\color{black}
 }
